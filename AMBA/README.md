# AMBA
* **系統晶片中各個模組之間的連接通訊就通過匯流排**，總線就作為子系統之間共享的通訊鏈路。總線可以理解為數據傳輸的協議，大家都按照這種協議（AHB、APB、AXI）來傳數據，這樣各個模組之間就不會出錯，尤其是很多時候別人買你的IP，你要保證人家買過去能用起來，那就需要一個規範來統一標準，我們稱之為總線。
* 總線的優點就是成本低，方便使用。缺點也很明顯，就是會造成效能瓶頸，也正是因為這個所以匯流排協定一直在更新，到現在的AXI4，讀寫資料通道分開，增加了資料的頻寬。
* AMBA 全名為 Advanced Microcontroller Bus Architecture ，即片上匯流排協議標準 。AMBA協定是與製程無關的，沒有電氣特性，而是一種協定。總共定義了三種總線：
  * **AHB** (Advanced High-Performance Bus) (先進高效能匯流排, 用於高效能系統)
  * ASB（Advanced System Bus）用的很少
  * **APB** (Advanced Peripheral Bus) (進階週邊匯流排, 用於低速週邊)
* AMBA發展歷史：
  * AMBA1.0：ASB 和 APB
  * AMBA2.0: AHB、ASB 和 APB
  * AMBA3.0：**AMBA 高階可擴充介面 (AXI)**
  * AMBA4.0：....
## AHB 總線特點
* **高速總線，高性能**
* 具有兩級流水操作，包括**地址週期**和**資料週期**的兩級管線處理
* 第一個週期讀地址，第二個週期寫數據，用流水線操作處理 (Pipeline)，在**第二個週期寫數據的同時讀另一個地址**，這樣在下一個週期就可以直接寫數據，讀地址寫數據同時進行，這樣兩週期的操作在流水線開始後每週期都能寫一個數據
![image](https://github.com/user-attachments/assets/866bd692-0b1e-45ba-9b0f-164a0f9d3b90)
* AHB 可以支援多個總線主設備（最多 16 個）
* 也支援 burst 傳輸。就是一次 burst 傳輸，一次傳輸一串數據，數據長度為 burst length
* 總線頻寬：8、16、32、64、128bits。採用上升沿觸發操作
## APB 總線特性
* **低速匯流排，低功耗**
* 介面簡單。在 bridge 中鎖存位址訊號和控制訊號。適用於多種週邊，採用上升沿觸發操作。
## AHB 組成
## APB 組成
